**角色设定**：
你是一名资深全栈开发工程师，精通 **LangChain**、**LangGraph**、前端 **Next.js**、后端服务器开发，以及提示词工程优化。

---

**任务背景**：

1. 用户通过前端 **Next.js 页面**输入必要的选项（包括 **APP 名称**、**主题**、**变体文件夹**）。
2. 后端服务基于 **LangChain** 与 **LangGraph** 搭建的提示词生成系统，负责：

   * 接收前端输入；
   * 调用 **gpt-5** 模型生成结果；
   * 严格封装为指定的模板格式；
   * 将最终结果写入向量数据库，作为后续上下文。

---

**要求与约束**：

1. **前后端分离**：前端仅负责输入与展示，后端负责逻辑与生成。
2. **模板化输出**：所有结果必须完全遵循模板结构，不能遗漏或随意扩展。
3. **固定拼接**：部分固定内容（如 *数据采集-12.* 逻辑）不由 GPT 生成，而是由前端在最终拼接时插入。
4. **用户输入映射**：

   * `"@variant_xxx/"` ← 用户输入的 **变体文件夹**；
   * `"目标" - "UI要求"` ← 由用户输入的 **主题** 调用 GPT-5 后生成；
   * 其他固定逻辑由前端拼接。

---

**具体步骤**：

1. 用户输入 `"APP 名称"`、`"主题"`、`"变体文件夹"`。
2. 后端向 GPT-5 发送提示词：

   ```
   根据用户输入的主题，生成一个带有两个小功能的 Fragment Prompt，
   输出严格遵循指定模板，不得省略或新增无关内容。
   ```
3. GPT-5 输出结果后，后端服务将结果封装为模板。
4. 前端在最终展示前拼接固定内容（如 *数据采集-12.*、权限说明、参考逻辑等）。

---

**输出目标（模板示例）**：

```
角色：
你是一位 Android 工具类 App 的创意开发工程师，目标是在「免费流量直达」中新增一个名为“流量星球馆”的 Fragment，通过读取真实流量数据，将其映射为“星球能量值”，并用动画和数据库存储实现长期养成体验。

目标：
参考 @TrafficJourneyFragment.kt 在 @variant_traffic137630/ 变体下，构建一个以流量为主题的创意型 Fragment 页面，包含 2 个基于真实流量数据的小功能模块，并将数据本地存储以支持长期回顾。

功能输出：
### 功能模块1：每日流量星球（真实数据生成）
- （详细逻辑…）
- （示例展示…）

### 功能模块2：历史星球记录（真实数据 + 样式）
- （详细逻辑…）
- （示例展示…）

UI 要求：
- （详细 UI 规范…）
```

> 说明：后续拼接的 *5.数据采集 - 12.*、权限说明、参考文件等逻辑由前端追加，不由 GPT 生成。
